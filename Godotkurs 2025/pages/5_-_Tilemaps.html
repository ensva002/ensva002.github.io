<!DOCTYPE html>
	<html lang="en">
	<head>
	    <meta charset="UTF-8">
	    <meta name="viewport" content="width=device-width, initial-scale=1.0">
	    <link rel=icon type=image/svg+xml href=../favicon.svg>
	    <link rel=stylesheet href=style.css>
	    <link id="codeStyle" rel=stylesheet href=prism.css>
	    <script type=module src=script.js></script>
	    <script type=module src=prism.js></script>
	    <title>5 - Tilemaps</title>
	</head>
	<body>
	    <div id="canvas">
	        <div id="overview"></div>
	        <div id="content">
	            <h1>5 - Tilemaps</h1>
	            <blockquote>
<p>⚠️<br />
Denne guiden var originalt skrevet for <em>TileMap</em>, som nå er
utdatert. Vi skal bruke <em>TileMapLayer</em> i stedet. Funksjonene vi
går gjennom her fungerer likt i begge.</p>
<p><img src="../media/2025-03-07-12-23-18-image.png" /></p>
</blockquote>
<p>I denne guiden bruker vi <a
href="https://www.kenney.nl/assets/platformer-pack-redux">Kenney
platformer pack</a>. dra <em>spritesheet_ground.png</em> og
<em>spritesheet_tiles.png</em> inn i FileSystem vinduet.</p>
<p><img src="../media/2_Tile4.png" /></p>
<p>Vi starter med en ny tom 2D sene.</p>
<p><img src="../media/2_Tile5.gif" /></p>
<p>Start med å legge til en <em>TileMapLayer</em> node, og markerer
den.</p>
<p><img src="../media/2_Tile3.png" /></p>
<p>I inspector klikker du på pilen ned ved Tile Set, velger New TileSet
og klikker på den når den er lagd. Så setter du Tile Size til å matche
størrelsen på tiles-ene i ditt tilesheet. I dette eksempelet bruker vi
128x128 piksler pr tile.</p>
<p><img src="../media/2_Tile1.png" /></p>
<p>Velg TileSet fanen nederst i vinduet, lag et nytt atlas, og dra
kolisjons formspritesheet_ground.png til Texture <empty>. Klikk på Yes
når du blir spurt om du automatisk vil lage tiles i det nye atlaset.</p>
<p><em>Om du glemte å sette rett oppløsning før du la inn grafikken vil
det bli tydelig nå, om tiles ikke matcher rutenettet. Letteste
løsningen, slett teksturen fra tileset, fiks oppløsning og importer den
igjen.</em></p>
<p><img src="../media/2_Tile6.gif" /></p>
<p>Nå kan du velge TileMap fanen og begynne å tegne opp en level med
tiles.</p>
<p><img src="../media/2_Tile7.gif" /></p>
<p>Men, enn så lenge er dette bare visuelt, en karakter vil f.eks falle
rett gjennom bakken.</p>
<p><img src="../media/2_Tile11.gif" /></p>
<p>Marker TileMapLayer noden, klikk på TileSet i inspektøren og legg til
et nytt element under Physics Layers. Så kan du åpne TileSet fanen og
bytte til Select i stedet for Setup.</p>
<p><img src="../media/2_Tile13.gif" /></p>
<p>Herfra kan vi velge en tile, bla ned til Physics og velge det nye
laget vi lagde. Du kan trykke på F for å fylle hele tilen med en
kollisjonsform. Herfra kan du bruke node verktøyene for å sette opp
formen slik at den matcher grafikken.</p>
<p><em>Tips: du kan ha flere Physics Layers på samme TileSet med
forskjellige collision layers og masks</em></p>
<p><img src="../media/2_Tile16.png" /> <img
src="../media/2_Tile14.gif" /></p>
<p>Du kan gå på <em>Debug</em> og slå på <em>Visible collision
shapes</em> for å se om du har glemt å legge til kollisjon på noen
elementer.</p>
<p><img src="../media/2_Tile15.gif" /></p>
	        </div>
	    </div>
	</body>
	</html>
